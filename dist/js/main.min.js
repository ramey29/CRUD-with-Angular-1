!function(e,t){"use strict";var a=function(){if(t.userAgent&&(t.userAgent.match(/Android/i)||t.userAgent.match(/webOS/i)||t.userAgent.match(/iPhone/i)||t.userAgent.match(/iPad/i)||t.userAgent.match(/iPod/i)||t.userAgent.match(/BlackBerry/i)||t.userAgent.match(/Windows Phone/i)))return!0}(),n=function(e,t,n){return n&&(a=!1),a?['<div class="_720kb-datepicker-calendar-header">','<div class="_720kb-datepicker-calendar-header-middle _720kb-datepicker-mobile-item _720kb-datepicker-calendar-month">','<select ng-model="month" title="{{ dateMonthTitle }}" ng-change="selectedMonthHandle(month)">','<option ng-repeat="item in months" ng-selected="item === month" ng-disabled=\'!isSelectableMaxDate(item + " " + day + ", " + year) || !isSelectableMinDate(item + " " + day + ", " + year)\' ng-value="$index + 1" value="$index + 1">',"{{ item }}","</option>","</select>","</div>","</div>",'<div class="_720kb-datepicker-calendar-header">','<div class="_720kb-datepicker-calendar-header-middle _720kb-datepicker-mobile-item _720kb-datepicker-calendar-month">','<select ng-model="mobileYear" title="{{ dateYearTitle }}" ng-change="setNewYear(mobileYear)">','<option ng-repeat="item in paginationYears track by $index" ng-selected="year === item" ng-disabled="!isSelectableMinYear(item) || !isSelectableMaxYear(item)" ng-value="item" value="item">',"{{ item }}","</option>","</select>","</div>","</div>"]:['<div class="_720kb-datepicker-calendar-header">','<div class="_720kb-datepicker-calendar-header-left">','<a class="_720kb-datepicker-calendar-month-button" href="javascript:void(0)" ng-class="{\'_720kb-datepicker-item-hidden\': !willPrevMonthBeSelectable()}" ng-click="prevMonth()" title="{{ buttonPrevTitle }}">',e,"</a>","</div>",'<div class="_720kb-datepicker-calendar-header-middle _720kb-datepicker-calendar-month">',"{{month}}&nbsp;",'<a href="javascript:void(0)" ng-click="paginateYears(year); showYearsPagination = !showYearsPagination;">',"<span>","{{year}}","<i ng-class=\"{'_720kb-datepicker-calendar-header-closed-pagination': !showYearsPagination, '_720kb-datepicker-calendar-header-opened-pagination': showYearsPagination}\"></i>","</span>","</a>","</div>",'<div class="_720kb-datepicker-calendar-header-right">','<a class="_720kb-datepicker-calendar-month-button" ng-class="{\'_720kb-datepicker-item-hidden\': !willNextMonthBeSelectable()}" href="javascript:void(0)" ng-click="nextMonth()" title="{{ buttonNextTitle }}">',t,"</a>","</div>","</div>"]},i=function(e,t){return['<div class="_720kb-datepicker-calendar-header" ng-show="showYearsPagination">','<div class="_720kb-datepicker-calendar-years-pagination">','<a ng-class="{\'_720kb-datepicker-active\': y === year, \'_720kb-datepicker-disabled\': !isSelectableMaxYear(y) || !isSelectableMinYear(y)}" href="javascript:void(0)" ng-click="setNewYear(y)" ng-repeat="y in paginationYears track by $index">',"{{y}}","</a>","</div>",'<div class="_720kb-datepicker-calendar-years-pagination-pages">','<a href="javascript:void(0)" ng-click="paginateYears(paginationYears[0])" ng-class="{\'_720kb-datepicker-item-hidden\': paginationYearsPrevDisabled}">',e,"</a>",'<a href="javascript:void(0)" ng-click="paginateYears(paginationYears[paginationYears.length -1 ])" ng-class="{\'_720kb-datepicker-item-hidden\': paginationYearsNextDisabled}">',t,"</a>","</div>","</div>"]},r=function(){return['<div class="_720kb-datepicker-calendar-days-header">','<div ng-repeat="d in daysInString">',"{{d}}","</div>","</div>"]},d=function(){return['<div class="_720kb-datepicker-calendar-body">','<a href="javascript:void(0)" ng-repeat="px in prevMonthDays" class="_720kb-datepicker-calendar-day _720kb-datepicker-disabled">',"{{px}}","</a>","<a href=\"javascript:void(0)\" ng-repeat=\"item in days\" ng-click=\"setDatepickerDay(item)\" ng-class=\"{'_720kb-datepicker-active': selectedDay === item && selectedMonth === monthNumber && selectedYear === year, '_720kb-datepicker-disabled': !isSelectableMinDate(year + '/' + monthNumber + '/' + item ) || !isSelectableMaxDate(year + '/' + monthNumber + '/' + item) || !isSelectableDate(monthNumber, year, item) || !isSelectableDay(monthNumber, year, item),'_720kb-datepicker-today': item === today.getDate() && monthNumber === (today.getMonth() + 1) && year === today.getFullYear() && !selectedDay}\" class=\"_720kb-datepicker-calendar-day\">","{{item}}","</a>",'<a href="javascript:void(0)" ng-repeat="nx in nextMonthDays" class="_720kb-datepicker-calendar-day _720kb-datepicker-disabled">',"{{nx}}","</a>","</div>"]},c=function(e,t,a){var c=['<div class="_720kb-datepicker-calendar {{datepickerClass}} {{datepickerID}}" ng-class="{\'_720kb-datepicker-forced-to-open\': checkVisibility()}" ng-blur="hideCalendar()">',"</div>"],o=n(e,t,a),l=i(e,t),s=r(),u=d(),m=function(e){c.splice(c.length-1,0,e)};return o.forEach(m),l.forEach(m),s.forEach(m),u.forEach(m),c.join("")},o=function(t,n,i,r,d,o){return{restrict:"AEC",scope:{dateSet:"@",dateMinLimit:"@",dateMaxLimit:"@",dateMonthTitle:"@",dateYearTitle:"@",buttonNextTitle:"@",buttonPrevTitle:"@",dateDisabledDates:"@",dateEnabledDates:"@",dateDisabledWeekdays:"@",dateSetHidden:"@",dateTyper:"@",dateWeekStartDay:"@",datepickerAppendTo:"@",datepickerToggle:"@",datepickerClass:"@",datepickerShow:"@"},link:function(l,s,u){var m,h,p,b=u.selector,y=e.element(b?s[0].querySelector("."+b):s[0].children[0]),g=u.buttonPrev||'<b class="_720kb-datepicker-default-button">&lang;</b>',f=u.buttonNext||'<b class="_720kb-datepicker-default-button">&rang;</b>',M=u.dateFormat,k=l.$eval(l.dateDisabledDates),D=l.$eval(l.dateEnabledDates),v=l.$eval(l.dateDisabledWeekdays),N=new Date,w=!1,S=!1,x=void 0!==u.datepickerMobile&&"false"!==u.datepickerMobile,T=i.DATETIME_FORMATS,Y=c(g,f,x),_=function(){w||S||!m||l.hideCalendar()},L=function(e,t){var a,n,i,r,d,c=new Date(t,e,0).getDate(),o=new Date(t+"/"+e+"/1").getDay(),s=new Date(t+"/"+e+"/"+c).getDay(),u=[],m=[];for(l.days=[],l.dateWeekStartDay=l.validateWeekDay(l.dateWeekStartDay),d=(l.dateWeekStartDay+6)%7,a=1;a<=c;a+=1)l.days.push(a);if(o===l.dateWeekStartDay)l.prevMonthDays=[];else{for(i=o-l.dateWeekStartDay,o<l.dateWeekStartDay&&(i+=7),r=1===Number(e)?12:e-1,a=1;a<=new Date(t,r,0).getDate();a+=1)u.push(a);l.prevMonthDays=u.slice(-i)}if(s===d)l.nextMonthDays=[];else{for(n=6-s+l.dateWeekStartDay,s<l.dateWeekStartDay&&(n-=7),a=1;a<=n;a+=1)m.push(a);l.nextMonthDays=m}},A=function(){l.month=r("date")(new Date(l.dateMinLimit),"MMMM"),l.monthNumber=Number(r("date")(new Date(l.dateMinLimit),"MM")),l.day=Number(r("date")(new Date(l.dateMinLimit),"dd")),l.year=Number(r("date")(new Date(l.dateMinLimit),"yyyy")),L(l.monthNumber,l.year)},$=function(){l.month=r("date")(new Date(l.dateMaxLimit),"MMMM"),l.monthNumber=Number(r("date")(new Date(l.dateMaxLimit),"MM")),l.day=Number(r("date")(new Date(l.dateMaxLimit),"dd")),l.year=Number(r("date")(new Date(l.dateMaxLimit),"yyyy")),L(l.monthNumber,l.year)},E=function(){l.year=Number(l.year)-1},O=function(){l.year=Number(l.year)+1},P=function(e,t){var a,n,i,r,d,c,o,l,s;for(c=0;c<T.MONTH.length;c+=1){if(l=T.MONTH[c],s=T.SHORTMONTH[c],-1!==e.indexOf(l)){e=e.replace(l,c+1);break}if(-1!==e.indexOf(s)){e=e.replace(s,c+1);break}}for(n=e.split(/\D/).filter(function(e){return e.length>0}),a=t.match(/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|MMMM|MMM|MM|M|dd?d?|yy?yy?y?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g).filter(function(e){return null!==e.match(/^[a-zA-Z]+$/i)}),c=0;c<a.length;c+=1)switch(o=a[c],!0){case-1!==o.indexOf("d"):r=n[c-(a.length-n.length)];break;case-1!==o.indexOf("M"):i=n[c-(a.length-n.length)];break;case-1!==o.indexOf("y"):d=n[c-(a.length-n.length)]}return new Date(d+"/"+i+"/"+r)},j=function(){if(!l.isSelectableMinDate(l.year+"/"+l.monthNumber+"/"+l.day)||!l.isSelectableMaxDate(l.year+"/"+l.monthNumber+"/"+l.day))return!1;var e=new Date(l.year+"/"+l.monthNumber+"/"+l.day);u.dateFormat?y.val(r("date")(e,M)):y.val(e),y.triggerHandler("input"),y.triggerHandler("change")},C={add:function(e,t){var a;e.className.indexOf(t)>-1||(a=e.className.split(" "),a.push(t),e.className=a.join(" "))},remove:function(e,t){var a,n;if(-1!==e.className.indexOf(t)){for(n=e.className.split(" "),a=0;a<n.length;a+=1)if(n[a]===t){n=n.slice(0,a).concat(n.slice(a+1));break}e.className=n.join(" ")}}},W=function(){h=t.document.getElementsByClassName("_720kb-datepicker-calendar"),e.forEach(h,function(e,t){h[t].classList?h[t].classList.remove("_720kb-datepicker-open"):C.remove(h[t],"_720kb-datepicker-open")}),m.classList?(m.classList.add("_720kb-datepicker-open"),N=M?P(y[0].value.toString(),M):new Date(y[0].value.toString()),l.selectedMonth=Number(r("date")(N,"MM")),l.selectedDay=Number(r("date")(N,"dd")),l.selectedYear=Number(r("date")(N,"yyyy"))):C.add(m,"_720kb-datepicker-open"),l.today=new Date,o(function(){l.selectedDay?(l.year=l.selectedYear,l.monthNumber=l.selectedMonth):(l.year=l.today.getFullYear(),l.monthNumber=l.today.getMonth()+1),l.month=r("date")(new Date(l.year,l.monthNumber-1),"MMMM"),L(l.monthNumber,l.year)},0)},H=function(){return!!l.datepickerShow&&(N=M?P(y[0].value.toString(),M):new Date(y[0].value.toString()),l.selectedMonth=Number(r("date")(N,"MM")),l.selectedDay=Number(r("date")(N,"dd")),l.selectedYear=Number(r("date")(N,"yyyy")),l.$eval(l.datepickerShow))},F=l.$watch("dateSet",function(e){e&&!isNaN(Date.parse(e))&&(N=new Date(e),l.month=r("date")(N,"MMMM"),l.monthNumber=Number(r("date")(N,"MM")),l.day=Number(r("date")(N,"dd")),l.year=Number(r("date")(N,"yyyy")),L(l.monthNumber,l.year),"true"!==l.dateSetHidden&&j())}),I=l.$watch("dateMinLimit",function(e){e&&A()}),B=l.$watch("dateMaxLimit",function(e){e&&$()}),U=l.$watch("dateFormat",function(e){e&&j()}),G=l.$watch("dateDisabledDates",function(e){e&&(k=l.$eval(e),l.isSelectableDate(l.monthNumber,l.year,l.day)||(y.val(""),y.triggerHandler("input"),y.triggerHandler("change")))}),R=l.$watch("dateEnabledDates",function(e){e&&(D=l.$eval(e),l.isSelectableDate(l.monthNumber,l.year,l.day)||(y.val(""),y.triggerHandler("input"),y.triggerHandler("change")))});for(l.nextMonth=function(){12===l.monthNumber?(l.monthNumber=1,O()):l.monthNumber+=1,l.dateMaxLimit&&(l.isSelectableMaxDate(l.year+"/"+l.monthNumber+"/"+l.days[0])||$()),l.month=r("date")(new Date(l.year,l.monthNumber-1),"MMMM"),L(l.monthNumber,l.year),l.day=void 0},l.willPrevMonthBeSelectable=function(){var e=l.monthNumber,t=l.year,a=r("date")(new Date(new Date(t+"/"+e+"/01").getTime()-864e5),"dd");return 1===e?(e=12,t-=1):e-=1,!(l.dateMinLimit&&!l.isSelectableMinDate(t+"/"+e+"/"+a))},l.willNextMonthBeSelectable=function(){var e=l.monthNumber,t=l.year;return 12===e?(e=1,t+=1):e+=1,!(l.dateMaxLimit&&!l.isSelectableMaxDate(t+"/"+e+"/01"))},l.prevMonth=function(){1===l.monthNumber?(l.monthNumber=12,E()):l.monthNumber-=1,l.dateMinLimit&&(l.isSelectableMinDate(l.year+"/"+l.monthNumber+"/"+l.days[l.days.length-1])||A()),l.month=r("date")(new Date(l.year,l.monthNumber-1),"MMMM"),L(l.monthNumber,l.year),l.day=void 0},l.selectedMonthHandle=function(e){l.monthNumber=Number(r("date")(new Date(e+"/01/2000"),"MM")),L(l.monthNumber,l.year),j()},l.setNewYear=function(e){if(a||(l.day=void 0),l.dateMaxLimit&&l.year<Number(e)){if(!l.isSelectableMaxYear(e))return}else if(l.dateMinLimit&&l.year>Number(e)&&!l.isSelectableMinYear(e))return;l.paginateYears(e),l.showYearsPagination=!1,o(function(){l.year=Number(e),L(l.monthNumber,l.year)},0)},l.hideCalendar=function(){m.classList?m.classList.remove("_720kb-datepicker-open"):C.remove(m,"_720kb-datepicker-open")},l.setDatepickerDay=function(e){l.isSelectableDay(l.monthNumber,l.year,e)&&l.isSelectableDate(l.monthNumber,l.year,e)&&l.isSelectableMaxDate(l.year+"/"+l.monthNumber+"/"+e)&&l.isSelectableMinDate(l.year+"/"+l.monthNumber+"/"+e)&&(l.day=Number(e),l.selectedDay=l.day,l.selectedMonth=l.monthNumber,l.selectedYear=l.year,j(),u.hasOwnProperty("dateRefocus")&&y[0].focus(),l.hideCalendar())},l.paginateYears=function(e){var t,n=[],i=10,d=10;for(l.paginationYears=[],a&&(i=50,d=50,l.dateMinLimit&&l.dateMaxLimit&&(e=new Date(l.dateMaxLimit).getFullYear(),i=e-new Date(l.dateMinLimit).getFullYear(),d=1)),t=i;t>0;t-=1)n.push(Number(e)-t);for(t=0;t<d;t+=1)n.push(Number(e)+t);"true"===l.dateTyper&&y.on("keyup blur",function(){if(y[0].value&&y[0].value.length&&y[0].value.length>0)try{N=M?P(y[0].value.toString(),M):new Date(y[0].value.toString()),N.getFullYear()&&!isNaN(N.getDay())&&!isNaN(N.getMonth())&&l.isSelectableDay(N.getMonth(),N.getFullYear(),N.getDay())&&l.isSelectableDate(N.getMonth(),N.getFullYear(),N.getDay())&&l.isSelectableMaxDate(N)&&l.isSelectableMinDate(N)&&l.$apply(function(){l.month=r("date")(N,"MMMM"),l.monthNumber=Number(r("date")(N,"MM")),l.day=Number(r("date")(N,"dd")),4===N.getFullYear().toString().length&&(l.year=Number(r("date")(N,"yyyy"))),L(l.monthNumber,l.year)})}catch(e){return e}}),l.dateMaxLimit&&n&&n.length&&!l.isSelectableMaxYear(Number(n[n.length-1])+1)?l.paginationYearsNextDisabled=!0:l.paginationYearsNextDisabled=!1,l.dateMinLimit&&n&&n.length&&!l.isSelectableMinYear(Number(n[0])-1)?l.paginationYearsPrevDisabled=!0:l.paginationYearsPrevDisabled=!1,l.paginationYears=n},l.isSelectableDay=function(e,t,a){var n=0;if(v&&v.length>0)for(n;n<=v.length;n+=1)if(v[n]===new Date(e+"/"+a+"/"+t).getDay())return!1;return!0},l.isSelectableDate=function(e,t,a){var n=0;if(k&&k.length>0)for(n;n<=k.length;n+=1)if(new Date(k[n]).getTime()===new Date(e+"/"+a+"/"+t).getTime())return!1;if(D){for(n;n<=D.length;n+=1)if(new Date(D[n]).getTime()===new Date(e+"/"+a+"/"+t).getTime())return!0;return!1}return!0},l.isSelectableMinDate=function(e){return!(l.dateMinLimit&&new Date(l.dateMinLimit)&&new Date(e).getTime()<new Date(l.dateMinLimit).getTime())},l.isSelectableMaxDate=function(e){return!(l.dateMaxLimit&&new Date(l.dateMaxLimit)&&new Date(e).getTime()>new Date(l.dateMaxLimit).getTime())},l.isSelectableMaxYear=function(e){return!(l.dateMaxLimit&&e>new Date(l.dateMaxLimit).getFullYear())},l.isSelectableMinYear=function(e){return!(l.dateMinLimit&&e<new Date(l.dateMinLimit).getFullYear())},l.validateWeekDay=function(e){var t=Number(e,10);return(!t||t<0||t>6)&&(t=0),t},Y=Y.replace(/{{/g,d.startSymbol()).replace(/}}/g,d.endSymbol()),l.dateMonthTitle=l.dateMonthTitle||"Select month",l.dateYearTitle=l.dateYearTitle||"Select year",l.buttonNextTitle=l.buttonNextTitle||"Next",l.buttonPrevTitle=l.buttonPrevTitle||"Prev",l.month=r("date")(N,"MMMM"),l.monthNumber=Number(r("date")(N,"MM")),l.day=Number(r("date")(N,"dd")),l.dateWeekStartDay=l.validateWeekDay(l.dateWeekStartDay),l.dateMaxLimit?l.year=Number(r("date")(new Date(l.dateMaxLimit),"yyyy")):l.year=Number(r("date")(N,"yyyy")),l.months=T.MONTH,l.daysInString=[],p=l.dateWeekStartDay;p<=l.dateWeekStartDay+6;p+=1)l.daysInString.push(p%7);l.daysInString=l.daysInString.map(function(e){return r("date")(new Date(new Date("06/08/2014").valueOf()+864e5*e),"EEE")}),l.datepickerAppendTo&&-1!==l.datepickerAppendTo.indexOf(".")?(l.datepickerID="datepicker-id-"+(new Date).getTime()+(Math.floor(6*Math.random())+8),e.element(document.getElementsByClassName(l.datepickerAppendTo.replace(".",""))[0]).append(n(e.element(Y))(l,function(t){m=e.element(t)[0]}))):l.datepickerAppendTo&&-1!==l.datepickerAppendTo.indexOf("#")?(l.datepickerID="datepicker-id-"+(new Date).getTime()+(Math.floor(6*Math.random())+8),e.element(document.getElementById(l.datepickerAppendTo.replace("#",""))).append(n(e.element(Y))(l,function(t){m=e.element(t)[0]}))):l.datepickerAppendTo&&"body"===l.datepickerAppendTo?(l.datepickerID="datepicker-id-"+((new Date).getTime()+(Math.floor(6*Math.random())+8)),e.element(document).find("body").append(n(e.element(Y))(l,function(t){m=e.element(t)[0]}))):(y.after(n(e.element(Y))(l)),m=s[0].querySelector("._720kb-datepicker-calendar")),function(){return!l.datepickerToggle||l.$eval(l.datepickerToggle)}()&&y.on("focus click focusin",function(){S=!0,w||S||!m?W():l.hideCalendar()}),y.on("focusout blur",function(){S=!1}),e.element(m).on("mouseenter",function(){w=!0}),e.element(m).on("mouseleave",function(){w=!1}),e.element(m).on("focusin",function(){w=!0}),e.element(t).on("click focus focusin",_),(l.dateMinLimit&&!l.isSelectableMinYear(l.year)||!l.isSelectableMinDate(l.year+"/"+l.monthNumber+"/"+l.day))&&A(),(l.dateMaxLimit&&!l.isSelectableMaxYear(l.year)||!l.isSelectableMaxDate(l.year+"/"+l.monthNumber+"/"+l.day))&&$(),l.paginateYears(l.year),L(l.monthNumber,l.year),l.checkVisibility=H,l.$on("$destroy",function(){F(),I(),B(),U(),G(),R(),y.off("focus click focusout blur"),e.element(m).off("mouseenter mouseleave focusin"),e.element(t).off("click focus focusin",_)})}}};e.module("720kb.datepicker",[]).directive("datepicker",["$window","$compile","$locale","$filter","$interpolate","$timeout",o])}(angular,navigator);var myApp=angular.module("angAppX",["720kb.datepicker"]);myApp.service("joinCrewService",["$http",function(e){this.listAllTransaction=function(){return e.get("https://jointhecrew.in/api/txns/priya@gmail.com").then(function(e){return e})},this.oneTransaction=function(t,a){return console.log(a),e.get("https://jointhecrew.in/api/txns/"+a+"/"+t).then(function(e){return e})},this.deleteTransaction=function(t,a){return console.log(a),e.delete("https://jointhecrew.in/api/txns/"+a+"/"+t).then(function(e){return e})},this.updateTransaction=function(t,a,n,i,r){var d={amount:n,currency:i,txn_date:r};return e.post("https://jointhecrew.in/api/txns/"+a+"/"+t,d,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(e){return e})},this.createTransaction=function(t,a,n,i){var r={amount:a,currency:n,txn_date:i};return e.post("https://jointhecrew.in/api/txns/"+t,r,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(e){return e})}}]),myApp.controller("joinCrew",["$scope","joinCrewService",function(e,t){function a(){t.listAllTransaction().then(function(t){e.allTransaction=t.data})}e.currency=["USD","GBP","INR","EUR"],e.errorMessage="",e.modalClose=function(){e.modalOpen=!1,e.openOne=!1,e.openEdit=!1,e.openAdd=!1},e.modalClose(),e.addModel=function(){e.modalOpen=!0,e.openAdd=!0,e.user="priya@gmail.com",e.currencyN="",e.amount="",e.date=""},a(),e.oneTransaction=function(a,n){e.modalOpen=!0,e.openOne=!0,t.oneTransaction(a,n).then(function(t){e.showInfo=t.data}).catch(function(t){e.globalErrorMessage=t.data.error})},e.editTransaction=function(a,n){e.modalOpen=!0,e.openEdit=!0,t.oneTransaction(a,n).then(function(t){e.id=t.data.id,e.user=t.data.user,e.amount=t.data.amount,e.currencyN=t.data.currency,e.date=t.data.txn_date}).catch(function(t){e.globalErrorMessage=t.data.error})},e.updateTransaction=function(a,n,i,r,d){t.updateTransaction(a,n,i,r,d).then(function(t){e.modalClose()}).catch(function(t){e.errorMessage=t.data.error})},e.createTransaction=function(a,n,i,r){t.createTransaction(a,n,i,r).then(function(t){e.modalClose()}).catch(function(t){e.errorMessage=t.data.error})},e.deleteTransaction=function(n,i){t.deleteTransaction(n,i).then(function(e){a()}).catch(function(t){e.globalErrorMessage=t.data.error})}}]),myApp.directive("validNumber",function(){return{require:"?ngModel",scope:{preDecimalMaxLength:"=?"},link:function(e,t,a,n){n&&(n.$parsers.push(function(t){angular.isUndefined(t)&&(t="");var i=t.replace(/[^-0-9\.]/g,""),r=i.split("-"),d=i.split(".");return angular.isUndefined(r[1])||(r[1]=r[1].slice(0,r[1].length),i=a.allowNegative?r[0]+"-"+r[1]:r[0]+""+r[1],d=i.split("."),r[0].length>0&&(i=r[0])),angular.isUndefined(d[1])?angular.isUndefined(e.preDecimalMaxLength)||(i=i.slice(0,e.preDecimalMaxLength)):(angular.isUndefined(e.preDecimalMaxLength)||(d[0]=d[0].slice(0,e.preDecimalMaxLength)),d[1]=d[1].slice(0,2),i=d[0]+"."+d[1],!angular.isUndefined(r[1])&&r[0].length>0&&(i=r[0]+""+r[1])),t!==i&&(n.$setViewValue(i),n.$render()),i}),t.bind("keypress",function(e){32===e.keyCode&&e.preventDefault()}))}}});